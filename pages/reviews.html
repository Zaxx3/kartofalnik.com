<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/style.css">
    <title>Kartofelnik</title>
</head>
<body>
    <header>
        <h1 class="title">–ö–∞—Ä—Ç–æ—Ñ–∞–ª–Ω–∏–∫.com</h1>
        <nav>
        <a href="index.html" class="nav-button">–ù–∞—á–∞–ª–æ</a>
        
        <a href="reviews.html" class="nav-button">–†–µ–≤—é—Ç–∞</a>
       
    </nav>
</header>
<main class="review-main">
    <div class="review-title">
        <h2>–ê–∫–æ –∏–º–∞—Ç–µ –ø—Ä–µ–ø–æ—Ä—ä–∫–∏ –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –∏—Å–∫–∞—Ç–µ –¥–∞ –∏–∑–∫–∞–∂–µ—Ç–µ –º–Ω–µ–Ω–∏–µ –º–æ–∂–µ –¥–∞ –≥–æ –Ω–∞–ø—Ä–∞–≤–∏—Ç–µ —Ç—É–∫ üòä</h2>
    </div>
    <div class="reviews-holder">
        <div class="input-form">

        
        <p>–í–∞—à–µ—Ç–æ –∏–º–µ</p>
        <input type="text" id="username">
        <p>–ö–æ–º–µ–Ω—Ç–∞—Ä</p>
        <textarea id="commentTextArea" ></textarea>
        <button onclick="submitComment()">–ö–æ–º–µ–Ω—Ç–∏—Ä–∞–π</button>
        <button onclick="deleateComment()">–ò–∑—Ç—Ä–∏–∏ –í–°–ò–ß–ö–ò –∫–æ–º–µ–Ω—Ç–∞—Ä–∏</button>
    </div>
    <div class="comment-area">

    </div>
    </div>



</main>
<footer>
    <p>Kartofalnik.com ¬Æ 2024</p>
</footer>
    
</body>

<script>

    function submitComment(){

        const username = document.getElementById('username').value;
        const commentTxt = document.getElementById('commentTextArea').value;

        if (!username || !commentTxt) {
        alert("–ú–æ–ª—è, –ø–æ–ø—ä–ª–Ω–µ—Ç–µ –∏ –¥–≤–µ—Ç–µ –ø–æ–ª–µ—Ç–∞!"); // Alert user if any field is empty
        return; // Stop the function if validation fails
    }

        let commentsStorage = JSON.parse(localStorage.getItem('comments')) || [];
        commentsStorage.push({name: username, comment: commentTxt});
        localStorage.setItem('comments', JSON.stringify(commentsStorage));

        showComments()

    }
    function deleateComment() {
    // Display confirmation alert before deleting
    const isConfirmed = confirm("–°–∏–≥—É—Ä–Ω–∏ –ª–∏ —Å—Ç–µ, —á–µ –∏—Å–∫–∞—Ç–µ –¥–∞ –∏–∑—Ç—Ä–∏–µ—Ç–µ –≤—Å–∏—á–∫–∏ –∫–æ–º–µ–Ω—Ç–∞—Ä–∏?");
    
    if (isConfirmed) {
        // Clear comments from localStorage
        localStorage.removeItem('comments');

        // Show the comment area (which will be empty now)
        showComments();
    }
}

    function showComments() {

        const commentArea = document.querySelector(".comment-area");
        const comments = JSON.parse(localStorage.getItem('comments'))||[];

        commentArea.innerHTML = '';

        comments.forEach((comment, index)=>{
            const commentDiv = document.createElement('div');
            commentDiv.classList.add('comment');
            commentDiv.innerHTML = `<strong>${comment.name}:</strong><p> ${comment.comment}</p>`;
            commentArea.appendChild(commentDiv);
        });
        
    }

    window.onload = function () {
        showComments();
    }

</script>


</html>